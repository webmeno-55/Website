import { useEffect, useRef } from 'react';
import { Canvas, useFrame } from '@react-three/fiber';
import { OrbitControls } from '@react-three/drei';
import * as THREE from 'three';

function RotatingBox() {
  const meshRef = useRef();
  useFrame(() => {
    if (meshRef.current) {
      meshRef.current.rotation.y += 0.01;
    }
  });
  return (
    <mesh ref={meshRef} position={[0, 0, 0]}>
      <boxGeometry args={[1.5, 1.5, 1.5]} />
      <meshStandardMaterial color={'white'} />
    </mesh>
  );
}

export default function HeroSection() {
  return (
    <div className="w-full min-h-screen bg-black text-white">
      <section className="h-screen flex items-center justify-center relative z-10">
        <div className="absolute inset-0 -z-10">
          <Canvas camera={{ position: [0, 0, 5] }}>
            <ambientLight intensity={0.5} />
            <directionalLight position={[2, 2, 5]} />
            <OrbitControls enableZoom={false} enablePan={false} />
            <RotatingBox />
          </Canvas>
        </div>
        <div className="text-center px-4">
          <h1 className="text-4xl md:text-6xl font-bold mb-4">Creative 3D Experience</h1>
          <p className="text-lg md:text-2xl max-w-xl mx-auto">
            Scroll down to explore the immersive layout powered by 3D and motion.
          </p>
        </div>
      </section>

      <section className="h-screen bg-zinc-900 flex items-center justify-center">
        <h2 className="text-3xl md:text-5xl">Scroll Section One</h2>
      </section>

      <section className="h-screen bg-zinc-800 flex items-center justify-center">
        <h2 className="text-3xl md:text-5xl">Scroll Section Two</h2>
      </section>

      <section className="h-screen bg-zinc-700 flex items-center justify-center">
        <h2 className="text-3xl md:text-5xl">Scroll Section Three</h2>
      </section>
    </div>
  );
}
                
